<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>–ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π</title>
</head>
<body>
  <h2>–§–æ—Ä–º–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ–∫–∞–∑–∞–Ω–∏–π</h2>

  <form id="meterForm"
        action="https://script.google.com/macros/s/AKfycbwGhtT6jthjUqTMUPOnQTgtaYqMKo-BB8R7G8PwWLFcBjr01SEayZHHlj2Q_34IKqrZ/exec"
        method="POST"
        target="submitWindow">
      <label>–§–ò–û –∏–ª–∏ –∞–¥—Ä–µ—Å:<br>
          <input type="text" name="name" required>
      </label><br><br>
      <label>–ü–æ–∫–∞–∑–∞–Ω–∏—è:<br>
          <input type="number" name="reading" required>
      </label><br><br>
      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </form>

  <p id="status">üì® –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—à—É—Ç—Å—è –≤ Google –¢–∞–±–ª–∏—Ü—É</p>

  <script>
    const form = document.getElementById("meterForm");

    form.addEventListener("submit", function(e) {
      // –û—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–æ–≤–æ–µ –æ–∫–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ, —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–æ—Å—å –±—Ä–∞—É–∑–µ—Ä–æ–º
      const popup = window.open('', 'submitWindow', 'width=500,height=300');

      // –ï—Å–ª–∏ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã–ª–æ—Å—å ‚Äî –æ–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –¥–ª—è –æ—Ç–≤–µ—Ç–∞ GAS
      // –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ ‚Äî —Ñ–æ—Ä–º–∞ –ø—Ä–æ—Å—Ç–æ —É–π–¥—ë—Ç –≤ target="submitWindow"

      // –°—Ç–∞–≤–∏–º —Ñ–æ–∫—É—Å –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ
      setTimeout(() => window.focus(), 100);

      // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É —á–µ—Ä–µ–∑ 1 —Å–µ–∫
      setTimeout(() => {
        form.reset();
        document.getElementById("status").innerText = "‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã!";
      }, 1000);
    });
  </script>
</body>
</html>
