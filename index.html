<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>–ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π</title>
</head>
<body>
  <h2>–§–æ—Ä–º–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ–∫–∞–∑–∞–Ω–∏–π</h2>

  <form id="meterForm"
        action="https://script.google.com/macros/s/AKfycbwSJX8yxRV_JeE18BhbZ1GWKEnQgJAVxernk19XKhhKRwC7k2J8V5B08f88NeegUzA/exec"
        method="POST"
        target="submitWindow">
      <label>–§–ò–û –∏–ª–∏ –∞–¥—Ä–µ—Å:<br>
          <input type="text" name="name" required>
      </label><br><br>
      <label>–ü–æ–∫–∞–∑–∞–Ω–∏—è:<br>
          <input type="number" name="reading" required>
      </label><br><br>
      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </form>

  <p id="status">üì® –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—à—É—Ç—Å—è –≤ Google –¢–∞–±–ª–∏—Ü—É</p>

  <script>
    const form = document.getElementById("meterForm");

    form.addEventListener("submit", function(e) {
      // –û—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–æ–≤–æ–µ –æ–∫–Ω–æ –ó–ê–†–ê–ù–ï–ï, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
      const popup = window.open('about:blank', 'submitWindow', 'width=500,height=300');

      // –ú–æ–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ç–µ–∫—Å—Ç –≤ popup
      if (popup) {
        popup.document.write('<p style="font-family:sans-serif">‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>');
      }

      // –°—Ç–∞–≤–∏–º —Ñ–æ–∫—É—Å –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é —Ñ–æ—Ä–º—É
      setTimeout(() => window.focus(), 100);

      // –û—á–∏—â–∞–µ–º –ø–æ–ª—è —Ñ–æ—Ä–º—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç–∞—Ç—É—Å
      setTimeout(() => {
        form.reset();
        document.getElementById("status").innerText = "‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã!";
      }, 1000);
    });
  </script>
</body>
</html>
