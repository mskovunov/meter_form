<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>–ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π</title>
</head>
<body>
  <h2>–§–æ—Ä–º–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ–∫–∞–∑–∞–Ω–∏–π</h2>

  <form id="meterForm" method="POST" target="hiddenWindow"
        action="https://script.google.com/macros/s/AKfycbywYJDCx5qAba43QBLC9JnHL2mZ_Sl41GwBpgdU5E8O6rt8FNkAj5shLRKIS_ElCAx4/exec">
      <label>–§–ò–û –∏–ª–∏ –∞–¥—Ä–µ—Å:<br>
          <input type="text" name="name" required>
      </label><br><br>
      <label>–ü–æ–∫–∞–∑–∞–Ω–∏—è:<br>
          <input type="number" name="reading" required>
      </label><br><br>
      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </form>

  <p id="status">üì® –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—à—É—Ç—Å—è –≤ Google –¢–∞–±–ª–∏—Ü—É</p>

  <script>
    const form = document.getElementById("meterForm");
    form.addEventListener("submit", function(e) {
      // –û—Ç–∫—Ä—ã–≤–∞–µ–º –æ–∫–Ω–æ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (–±–µ–∑ —Ñ–æ–∫—É—Å–∞)
      const win = window.open('', 'hiddenWindow', 'width=400,height=300,noopener,noreferrer');
      
      // –°—Ç–∞–≤–∏–º —Ñ–æ–∫—É—Å –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ
      setTimeout(() => window.focus(), 100);

      // –û—á–∏—â–∞–µ–º –ø–æ–ª—è —Ñ–æ—Ä–º—ã –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
      setTimeout(() => {
        form.reset();
        document.getElementById("status").innerText = "‚úÖ –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã!";
      }, 500);
    });
  </script>
</body>
</html>
